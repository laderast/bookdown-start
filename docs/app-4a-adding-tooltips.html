<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>A gRadual intRoduction to Shiny</title>
  <meta name="description" content="A gradual and gentle introduction to interactive programming concepts in Shiny.">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="A gRadual intRoduction to Shiny" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://laderast.github.io/gradual_shiny_bookdown/" />
  
  <meta property="og:description" content="A gradual and gentle introduction to interactive programming concepts in Shiny." />
  <meta name="github-repo" content="laderast/gradual_shiny_bookdown" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="A gRadual intRoduction to Shiny" />
  
  <meta name="twitter:description" content="A gradual and gentle introduction to interactive programming concepts in Shiny." />
  

<meta name="author" content="Ted Laderas">


<meta name="date" content="2018-03-02">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="app-3-adding-in-a-file-loader-observe-and-update-.html">
<link rel="next" href="app-4b-adding-tooltips-with-plotly.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A gRadual intRoduction to Shiny</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#workshop-expectations"><i class="fa fa-check"></i><b>0.1</b> Workshop Expectations</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#setup"><i class="fa fa-check"></i><b>1.1</b> Setup</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#introducing-shiny"><i class="fa fa-check"></i><b>1.2</b> Introducing Shiny</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#the-concept-of-ui-and-server-elements"><i class="fa fa-check"></i><b>1.3</b> The concept of <code>ui</code> and <code>server</code> elements</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="app-1-connecting-ui-and-server.html"><a href="app-1-connecting-ui-and-server.html"><i class="fa fa-check"></i><b>2</b> App 1: Connecting <code>ui</code> and <code>server</code></a><ul>
<li class="chapter" data-level="2.1" data-path="app-1-connecting-ui-and-server.html"><a href="app-1-connecting-ui-and-server.html#making-two-plots-interactive"><i class="fa fa-check"></i><b>2.1</b> Making two plots interactive</a></li>
<li class="chapter" data-level="2.2" data-path="app-1-connecting-ui-and-server.html"><a href="app-1-connecting-ui-and-server.html#exercise"><i class="fa fa-check"></i><b>2.2</b> Exercise</a></li>
<li class="chapter" data-level="2.3" data-path="app-1-connecting-ui-and-server.html"><a href="app-1-connecting-ui-and-server.html#what-youve-learned-so-far"><i class="fa fa-check"></i><b>2.3</b> What you’ve learned so far</a></li>
<li class="chapter" data-level="2.4" data-path="app-1-connecting-ui-and-server.html"><a href="app-1-connecting-ui-and-server.html#for-more-info"><i class="fa fa-check"></i><b>2.4</b> For More Info</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="app-2-reactives.html"><a href="app-2-reactives.html"><i class="fa fa-check"></i><b>3</b> App 2: Reactives</a><ul>
<li class="chapter" data-level="3.1" data-path="app-2-reactives.html"><a href="app-2-reactives.html#exercise-1"><i class="fa fa-check"></i><b>3.1</b> Exercise</a></li>
<li class="chapter" data-level="3.2" data-path="app-2-reactives.html"><a href="app-2-reactives.html#for-more-info-1"><i class="fa fa-check"></i><b>3.2</b> For More Info</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="app-3-adding-in-a-file-loader-observe-and-update-.html"><a href="app-3-adding-in-a-file-loader-observe-and-update-.html"><i class="fa fa-check"></i><b>4</b> App 3: Adding in a file loader: <code>observe</code> and <code>update</code>.</a><ul>
<li class="chapter" data-level="4.1" data-path="app-3-adding-in-a-file-loader-observe-and-update-.html"><a href="app-3-adding-in-a-file-loader-observe-and-update-.html#exercise-2"><i class="fa fa-check"></i><b>4.1</b> Exercise</a></li>
<li class="chapter" data-level="4.2" data-path="app-3-adding-in-a-file-loader-observe-and-update-.html"><a href="app-3-adding-in-a-file-loader-observe-and-update-.html#for-more-info-2"><i class="fa fa-check"></i><b>4.2</b> For More Info</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="app-4a-adding-tooltips.html"><a href="app-4a-adding-tooltips.html"><i class="fa fa-check"></i><b>5</b> App 4A: Adding tooltips</a><ul>
<li class="chapter" data-level="5.1" data-path="app-4a-adding-tooltips.html"><a href="app-4a-adding-tooltips.html#exercise-3"><i class="fa fa-check"></i><b>5.1</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="app-4b-adding-tooltips-with-plotly.html"><a href="app-4b-adding-tooltips-with-plotly.html"><i class="fa fa-check"></i><b>6</b> App 4B: Adding tooltips with <code>plotly</code></a><ul>
<li class="chapter" data-level="6.1" data-path="app-4b-adding-tooltips-with-plotly.html"><a href="app-4b-adding-tooltips-with-plotly.html#exercise-4"><i class="fa fa-check"></i><b>6.1</b> Exercise</a></li>
<li class="chapter" data-level="6.2" data-path="app-4b-adding-tooltips-with-plotly.html"><a href="app-4b-adding-tooltips-with-plotly.html#for-more-info-3"><i class="fa fa-check"></i><b>6.2</b> For More Info</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A gRadual intRoduction to Shiny</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="app-4a-adding-tooltips" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> App 4A: Adding tooltips</h1>
<p>Tooltips are great for examining single datapoints in the data. We’re going to add tooltips to our scatterplot so that users can hover over a datapoint and see all the information.</p>
<p>There are a couple of web programming techniques we need to understand before we can understand how tooltips work.</p>
<p>In terms of interactivity, <code>shiny</code> has the following interactions built into <code>renderPlot()</code>: <code>hover</code> (where in the graph the mouse is hovering), <code>click</code> (grabs the location where you clicked), and <code>brush</code> (select multiple points). We’ll play around with <code>hover</code> and <code>click</code>.</p>
<p>Both the <code>hover</code> and <code>click</code> arguments will return the same thing: basically an object (we’ll call it a <code>hover</code> object for now) which has the x-y coordinate information about the mouse position. That gets us part of the way there. The other part is returning the row in our data that’s the closest to that point on the graph. <code>nearPoints</code> handles getting the row from the <code>data.frame</code>, which we’ll refer to as a <code>point</code>. We use both this <code>hover</code> and <code>point</code> object to build our tooltip.</p>
<p>Once we have the row, we pass this on to a helper function called <code>return_tooltip</code>, which returns the location where we want the tooltip as well as the content of the tooltip. Then we display it onto our plot using <code>wellPanel</code>.</p>
<div id="exercise-3" class="section level2">
<h2><span class="header-section-number">5.1</span> Exercise</h2>
<ol style="list-style-type: decimal">
<li>Try running the <code>app.R</code> in <code>04A_tooltips</code>. Mouse near a data point. Did you get a tooltip?</li>
<li>Try changing the <code>hover</code> argument in <code>plotOutput</code> to <code>click</code>. That is, instead of</li>
</ol>
<pre><code> plotOutput(&quot;scatter_plot&quot;, hover = &quot;plot_hover&quot;),</code></pre>
<p>make it</p>
<pre><code>plotOutput(&quot;scatter_plot&quot;, click = &quot;plot_hover&quot;),</code></pre>
<p>What did that do with our interactivity?</p>
<ol start="3" style="list-style-type: decimal">
<li><p>Uncomment the <code>print</code> statement in the <code>renderUI</code> codeblock. Try mousing over a point. Where is it printing the output? (hint: not the webpage.) How does this help us?</p></li>
<li><p>If you’re really interested in how it works, try printing <code>hover</code> as well.</p></li>
</ol>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="app-3-adding-in-a-file-loader-observe-and-update-.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="app-4b-adding-tooltips-with-plotly.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
